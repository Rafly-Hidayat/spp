{"version":3,"sources":["../../source/read/dropEmptyRows.js"],"names":["dropEmptyRows","data","rowMap","accessor","_","onlyTrimAtTheEnd","i","length","empty","cell","splice"],"mappings":";;;;;;;;;;;;;AAAe,SAASA,aAAT,CAAuBC,IAAvB,EAIP;AAAA,iFAAJ,EAAI;AAAA,MAHNC,MAGM,QAHNA,MAGM;AAAA,2BAFNC,QAEM;AAAA,MAFNA,QAEM,8BAFK,UAAAC,CAAC;AAAA,WAAIA,CAAJ;AAAA,GAEN;AAAA,MADNC,gBACM,QADNA,gBACM;;AACN;AACA,MAAIC,CAAC,GAAGL,IAAI,CAACM,MAAL,GAAc,CAAtB;;AACA,SAAOD,CAAC,IAAI,CAAZ,EAAe;AACb;AACA,QAAIE,KAAK,GAAG,IAAZ;;AACA,yDAAmBP,IAAI,CAACK,CAAD,CAAvB,wCAA4B;AAAA,UAAjBG,IAAiB;;AAC1B,UAAIN,QAAQ,CAACM,IAAD,CAAR,KAAmB,IAAvB,EAA6B;AAC3BD,QAAAA,KAAK,GAAG,KAAR;AACA;AACD;AACF,KARY,CASb;;;AACA,QAAIA,KAAJ,EAAW;AACTP,MAAAA,IAAI,CAACS,MAAL,CAAYJ,CAAZ,EAAe,CAAf;;AACA,UAAIJ,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAACQ,MAAP,CAAcJ,CAAd,EAAiB,CAAjB;AACD;AACF,KALD,MAKO,IAAID,gBAAJ,EAAsB;AAC3B;AACD;;AACDC,IAAAA,CAAC;AACF;;AACD,SAAOL,IAAP;AACD","sourcesContent":["export default function dropEmptyRows(data, {\r\n  rowMap,\r\n  accessor = _ => _,\r\n  onlyTrimAtTheEnd\r\n} = {}) {\r\n  // Drop empty rows.\r\n  let i = data.length - 1\r\n  while (i >= 0) {\r\n    // Check if the row is empty.\r\n    let empty = true\r\n    for (const cell of data[i]) {\r\n      if (accessor(cell) !== null) {\r\n        empty = false\r\n        break\r\n      }\r\n    }\r\n    // Remove the empty row.\r\n    if (empty) {\r\n      data.splice(i, 1)\r\n      if (rowMap) {\r\n        rowMap.splice(i, 1)\r\n      }\r\n    } else if (onlyTrimAtTheEnd) {\r\n      break\r\n    }\r\n    i--\r\n  }\r\n  return data\r\n}"],"file":"dropEmptyRows.js"}